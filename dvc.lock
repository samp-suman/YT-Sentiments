schema: '2.0'
stages:
  ingest_data:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 3738577162e96480fbe677b11dd1e447
      size: 785
    params:
      params.yaml:
        data_source.url: 
          https://raw.githubusercontent.com/campusx-team/Text-Datasets/refs/heads/main/Reddit_Data.csv
    outs:
    - path: data/raw/data.csv
      hash: md5
      md5: 4144fea990fc973c5554efd820e8ae70
      size: 6926181
  pre_process:
    cmd: python src/data/data_processing.py
    deps:
    - path: data/raw/data.csv
      hash: md5
      md5: 4144fea990fc973c5554efd820e8ae70
      size: 6926181
    - path: src/data/data_processing.py
      hash: md5
      md5: 299182709444f09fe0bd73aebdd78f3e
      size: 8594
    params:
      params.yaml:
        columns:
          features:
          - clean_comment
          target: category
        data_ingestion:
          test_size: 0.2
          val_size: 0.1
          random_state: 42
        data_source.cache_file_url: 
          https://raw.githubusercontent.com/campusx-team/Text-Datasets/refs/heads/main/spelling_correction_cache.json
    outs:
    - path: data/interim/spelling_correction_cache.json
      hash: md5
      md5: ec5adcd063e498565850f469bd9bab93
      size: 1030226
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 5d1d40868ebf0241e189d0b9ba1c7d3f
      size: 2375305
    - path: data/interim/train_processed.csv
      hash: md5
      md5: a75472ac0682d1ac28e52466154a5e17
      size: 8523609
    - path: data/interim/val_processed.csv
      hash: md5
      md5: b5c36e61857130b36767a82c9f8be3fa
      size: 927478
  feature_extraction:
    cmd: python src/features/feature_extraction.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 5d1d40868ebf0241e189d0b9ba1c7d3f
      size: 2375305
    - path: data/interim/train_processed.csv
      hash: md5
      md5: a75472ac0682d1ac28e52466154a5e17
      size: 8523609
    - path: data/interim/val_processed.csv
      hash: md5
      md5: b5c36e61857130b36767a82c9f8be3fa
      size: 927478
    - path: src/features/feature_extraction.py
      hash: md5
      md5: f863e2d8897036e92570692554197f15
      size: 2667
    params:
      params.yaml:
        feature_extraction:
          bow:
            max_features: 10000
            ngram_range:
            - 1
            - 2
    outs:
    - path: data/processed/test_bow_features.csv
      hash: md5
      md5: 7f46e79fe05bf751f6312232b3c9de1b
      size: 147675251
    - path: data/processed/train_bow_features.csv
      hash: md5
      md5: 4ad2945cc29af11de0eb4cba554f2d07
      size: 531378098
    - path: data/processed/val_bow_features.csv
      hash: md5
      md5: c53b909c25350601fa44776b2a039b2b
      size: 59140819
