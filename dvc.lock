schema: '2.0'
stages:
  ingest_data:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 3738577162e96480fbe677b11dd1e447
      size: 785
    params:
      params.yaml:
        data_source.url: 
          https://raw.githubusercontent.com/campusx-team/Text-Datasets/refs/heads/main/Reddit_Data.csv
    outs:
    - path: data/raw/data.csv
      hash: md5
      md5: 4144fea990fc973c5554efd820e8ae70
      size: 6926181
  pre_process:
    cmd: python src/data/data_processing.py
    deps:
    - path: data/raw/data.csv
      hash: md5
      md5: 4144fea990fc973c5554efd820e8ae70
      size: 6926181
    - path: src/data/data_processing.py
      hash: md5
      md5: f857c3298602d12a2dfa8942ee44c303
      size: 8308
    params:
      params.yaml:
        columns:
          features:
          - clean_comment
          target: category
        data_ingestion:
          test_size: 0.2
          val_size: 0.1
          random_state: 42
        data_source.cache_file_url: 
          https://raw.githubusercontent.com/campusx-team/Text-Datasets/refs/heads/main/spelling_correction_cache.json
    outs:
    - path: data/interim/spelling_correction_cache.json
      hash: md5
      md5: a145a18a6c6f3f8e54a0b4d54575160b
      size: 1030210
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 236397e110ee5584058d0c25dc0d7637
      size: 2342968
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 20bd1f5a67e9f4f9c6e95aea6019a6cd
      size: 8507237
    - path: data/interim/val_processed.csv
      hash: md5
      md5: ffda4c511d256eb8821b12314812fbdc
      size: 960317
  feature_extraction:
    cmd: python src/features/feature_extraction.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 236397e110ee5584058d0c25dc0d7637
      size: 2342968
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 20bd1f5a67e9f4f9c6e95aea6019a6cd
      size: 8507237
    - path: data/interim/val_processed.csv
      hash: md5
      md5: ffda4c511d256eb8821b12314812fbdc
      size: 960317
    - path: src/features/feature_extraction.py
      hash: md5
      md5: 532fce8c6b2ca17d8187185953869247
      size: 2584
    params:
      params.yaml:
        feature_extraction:
          bow:
            max_features: 10000
            ngram_range:
            - 1
            - 2
    outs:
    - path: data/processed/test_bow_features.csv
      hash: md5
      md5: ffa50325f84d2cacb33c466097951127
      size: 147689922
    - path: data/processed/train_bow_features.csv
      hash: md5
      md5: caf1cfdda0955a9a46a887a10994045e
      size: 531490714
    - path: data/processed/val_bow_features.csv
      hash: md5
      md5: fddbb714b5533eafdf676dc462c01e68
      size: 59066641
